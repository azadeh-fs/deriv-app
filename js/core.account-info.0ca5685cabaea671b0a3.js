(window.webpackJsonp=window.webpackJsonp||[]).push([["account-info"],{645:function(e,t,n){"use strict";var a=n(5),c=n.n(a),r=n(0),o=n.n(r);t.a=function(e){var t=e.className,n=e.is_invisible,a=e.theme,r=e.id;return o.a.createElement("div",{id:r,className:c()("barspinner","barspinner--".concat(a||"dark"),{invisible:n},t)},Array.from(new Array(5)).map((function(e,t){return o.a.createElement("div",{key:t,className:"barspinner__rect barspinner__rect--".concat(t+1," rect").concat(t+1)})})))}},649:function(module,exports,__webpack_require__){var n;window,n=function(__WEBPACK_EXTERNAL_MODULE__0__,__WEBPACK_EXTERNAL_MODULE__1__,__WEBPACK_EXTERNAL_MODULE__2__,__WEBPACK_EXTERNAL_MODULE__19__){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var c=t[a]={i:a,l:!1,exports:{}};return e[a].call(c.exports,c,c.exports,n),c.l=!0,c.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)n.d(a,c,function(t){return e[t]}.bind(null,c));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=53)}({0:function(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE__0__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2Rlcml2LWNvbXBvbmVudC5bbmFtZV0vZXh0ZXJuYWwgXCJyZWFjdFwiPzU4OGUiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18wX187Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n")},1:function(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE__1__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2Rlcml2LWNvbXBvbmVudC5bbmFtZV0vZXh0ZXJuYWwgXCJwcm9wLXR5cGVzXCI/MzgzMiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzFfXzsiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n")},19:function(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE__19__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXJpdi1jb21wb25lbnQuW25hbWVdL2V4dGVybmFsIFwiZGVyaXYtc2hhcmVkL3V0aWxzL2N1cnJlbmN5XCI/NGNiYiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzE5X187Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///19\n")},2:function(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE__2__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2Rlcml2LWNvbXBvbmVudC5bbmFtZV0vZXh0ZXJuYWwgXCJjbGFzc25hbWVzXCI/YWFhYiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzJfXzsiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2\n")},35:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n    if(false) { var cssReload; }\n  //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXJpdi1jb21wb25lbnQuW25hbWVdLy4vc3JjL2NvbXBvbmVudHMvbW9uZXkvbW9uZXkuc2Nzcz9jZjE5Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuICAgIGlmKG1vZHVsZS5ob3QpIHtcbiAgICAgIC8vIDE1NzU1OTg3MzA5NzdcbiAgICAgIHZhciBjc3NSZWxvYWQgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtaG90LWxvYWRlci9ob3RNb2R1bGVSZXBsYWNlbWVudC5qc1wiKShtb2R1bGUuaWQsIHtcImZpbGVNYXBcIjpcIntmaWxlTmFtZX1cIn0pO1xuICAgICAgbW9kdWxlLmhvdC5kaXNwb3NlKGNzc1JlbG9hZCk7XG4gICAgICBtb2R1bGUuaG90LmFjY2VwdCh1bmRlZmluZWQsIGNzc1JlbG9hZCk7O1xuICAgIH1cbiAgIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBLGdDQUtBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///35\n")},53:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: external "classnames"\nvar external_classnames_ = __webpack_require__(2);\nvar external_classnames_default = /*#__PURE__*/__webpack_require__.n(external_classnames_);\n\n// EXTERNAL MODULE: external "prop-types"\nvar external_prop_types_ = __webpack_require__(1);\nvar external_prop_types_default = /*#__PURE__*/__webpack_require__.n(external_prop_types_);\n\n// EXTERNAL MODULE: external "react"\nvar external_react_ = __webpack_require__(0);\nvar external_react_default = /*#__PURE__*/__webpack_require__.n(external_react_);\n\n// EXTERNAL MODULE: external "deriv-shared/utils/currency"\nvar currency_ = __webpack_require__(19);\nvar currency_default = /*#__PURE__*/__webpack_require__.n(currency_);\n\n// CONCATENATED MODULE: ./src/components/money/money.jsx\n\n\n\n\n\nvar money_Money = function Money(_ref) {\n  var amount = _ref.amount,\n      className = _ref.className,\n      _ref$currency = _ref.currency,\n      currency = _ref$currency === void 0 ? \'USD\' : _ref$currency,\n      has_sign = _ref.has_sign,\n      _ref$should_format = _ref.should_format,\n      should_format = _ref$should_format === void 0 ? true : _ref$should_format;\n  var sign = \'\';\n\n  if (+amount && (amount < 0 || has_sign)) {\n    sign = amount > 0 ? \'+\' : \'-\';\n  } // if it\'s formatted already then don\'t make any changes unless we should remove extra -/+ signs\n\n\n  var value = has_sign || should_format ? Math.abs(amount) : amount;\n  var final_amount = should_format ? currency_default.a.formatMoney(currency, value, true) : value;\n  return external_react_default.a.createElement(external_react_default.a.Fragment, null, has_sign && sign, external_react_default.a.createElement("span", {\n    className: external_classnames_default()(className, \'symbols\', "symbols--".concat(currency.toLowerCase()))\n  }), final_amount);\n};\n\nmoney_Money.propTypes = {\n  amount: external_prop_types_default.a.oneOfType([external_prop_types_default.a.number, external_prop_types_default.a.string]),\n  className: external_prop_types_default.a.string,\n  currency: external_prop_types_default.a.string,\n  has_sign: external_prop_types_default.a.bool,\n  should_format: external_prop_types_default.a.bool\n};\n/* harmony default export */ var money = (money_Money);\n// EXTERNAL MODULE: ./src/components/money/money.scss\nvar money_money = __webpack_require__(35);\n\n// CONCATENATED MODULE: ./src/components/money/index.js\n\n\n/* harmony default export */ var components_money = __webpack_exports__["default"] = (money);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXJpdi1jb21wb25lbnQuW25hbWVdLy4vc3JjL2NvbXBvbmVudHMvbW9uZXkvbW9uZXkuanN4P2QyYmYiLCJ3ZWJwYWNrOi8vZGVyaXYtY29tcG9uZW50LltuYW1lXS8uL3NyYy9jb21wb25lbnRzL21vbmV5L2luZGV4LmpzP2UyMDkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNsYXNzTmFtZXMgICAgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgUHJvcFR5cGVzICAgICBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSZWFjdCAgICAgICAgIGZyb20gJ3JlYWN0JztcbmltcG9ydCBDdXJyZW5jeVV0aWxzIGZyb20gJ2Rlcml2LXNoYXJlZC91dGlscy9jdXJyZW5jeSc7XG5cbmNvbnN0IE1vbmV5ID0gKHtcbiAgICBhbW91bnQsXG4gICAgY2xhc3NOYW1lLFxuICAgIGN1cnJlbmN5ID0gJ1VTRCcsXG4gICAgaGFzX3NpZ24sXG4gICAgc2hvdWxkX2Zvcm1hdCA9IHRydWUsXG59KSA9PiB7XG4gICAgbGV0IHNpZ24gPSAnJztcbiAgICBpZiAoK2Ftb3VudCAmJiAoYW1vdW50IDwgMCB8fCBoYXNfc2lnbikpIHtcbiAgICAgICAgc2lnbiA9IGFtb3VudCA+IDAgPyAnKycgOiAnLSc7XG4gICAgfVxuXG4gICAgLy8gaWYgaXQncyBmb3JtYXR0ZWQgYWxyZWFkeSB0aGVuIGRvbid0IG1ha2UgYW55IGNoYW5nZXMgdW5sZXNzIHdlIHNob3VsZCByZW1vdmUgZXh0cmEgLS8rIHNpZ25zXG4gICAgY29uc3QgdmFsdWUgPSAoaGFzX3NpZ24gfHwgc2hvdWxkX2Zvcm1hdCkgPyBNYXRoLmFicyhhbW91bnQpIDogYW1vdW50O1xuICAgIGNvbnN0IGZpbmFsX2Ftb3VudCA9IHNob3VsZF9mb3JtYXQgPyBDdXJyZW5jeVV0aWxzLmZvcm1hdE1vbmV5KGN1cnJlbmN5LCB2YWx1ZSwgdHJ1ZSkgOiB2YWx1ZTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICAgIHtoYXNfc2lnbiAmJiBzaWdufVxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtjbGFzc05hbWVzKGNsYXNzTmFtZSwgJ3N5bWJvbHMnLCBgc3ltYm9scy0tJHtjdXJyZW5jeS50b0xvd2VyQ2FzZSgpfWApfSAvPlxuICAgICAgICAgICAge2ZpbmFsX2Ftb3VudH1cbiAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICApO1xufTtcblxuTW9uZXkucHJvcFR5cGVzID0ge1xuICAgIGFtb3VudDogUHJvcFR5cGVzLm9uZU9mVHlwZShbXG4gICAgICAgIFByb3BUeXBlcy5udW1iZXIsXG4gICAgICAgIFByb3BUeXBlcy5zdHJpbmcsXG4gICAgXSksXG4gICAgY2xhc3NOYW1lICAgIDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBjdXJyZW5jeSAgICAgOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGhhc19zaWduICAgICA6IFByb3BUeXBlcy5ib29sLFxuICAgIHNob3VsZF9mb3JtYXQ6IFByb3BUeXBlcy5ib29sLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgTW9uZXk7XG4iLCJpbXBvcnQgTW9uZXkgZnJvbSAnLi9tb25leS5qc3gnO1xuaW1wb3J0ICAgICAgICAgICAgJy4vbW9uZXkuc2Nzcyc7XG5cbmV4cG9ydCBkZWZhdWx0IE1vbmV5O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFXQTs7Ozs7QUN6Q0E7QUFDQTtBQUVBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///53\n')}}).default},module.exports=n(__webpack_require__(0),__webpack_require__(6),__webpack_require__(38),__webpack_require__(18))},650:function(e,t,n){},716:function(e,t,n){"use strict";n.r(t);var a=n(5),c=n.n(a),r=n(3),o=n.n(r),i=n(0),s=n.n(i),l=n(66),u=n(2),_=n(29),p=n(649),d=n.n(p),m=(n(650),n(73)),b=n.n(m),g=(n(111),n(40)),f=n.n(g),y=(n(75),n(18)),h=n.n(y),v=n(63),I=n(31),w=n.n(I),E=(n(68),function(e){var t=e.children,n=e.onClick,a=e.icon;return s.a.createElement("div",{className:"acc-switcher__new-account"},s.a.createElement(w.a,{id:"upgrade-account",onClick:n,className:"acc-switcher__new-account-link",tertiary:!0,icon:a},t))});E.propTypes={icon:o.a.node,onClick:o.a.func,text:o.a.string};var C=E,N=n(7),A=n(8),X=n(19),L=n(88),x=n(645);function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function U(e,t,n,a,c,r,o){try{var i=e[r](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,c)}function F(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function O(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var V=function(e){var t=e.children,n=e.header,a=e.is_visible,r=e.toggleVisibility;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:c()("acc-switcher",{"acc-info--show":!a}),onClick:r},s.a.createElement("span",{className:"acc-switcher__list-title"},n),s.a.createElement(N.a,{icon:"IconArrow",className:"acc-info__select-arrow"})),a&&s.a.createElement(s.a.Fragment,null,t))},Z=function(e){var t=e.account_type,n=e.balance,a=e.currency,r=e.currency_icon,o=e.display_type,i=e.has_balance,l=e.has_demo_text,_=e.is_disabled,p=e.is_virtual,m=e.loginid,g=e.onClickAccount,f=e.selected_loginid;return s.a.createElement(b.a,{alignment:"left",message:m},s.a.createElement("div",{id:"dt_".concat(m),className:c()("acc-switcher__account",{"acc-switcher__account--selected":m===f,"acc-switcher__account--disabled":_,"acc-switcher__account--demo-text":l}),onClick:_?void 0:g},s.a.createElement("span",{className:"acc-switcher__id"},s.a.createElement(N.a,{icon:"IconAccountsCurrency",className:"acc-switcher__id-icon acc-switcher__id-icon--".concat(r),type:r}),s.a.createElement("span",null,"currency"===o?s.a.createElement(k,{is_virtual:p,currency:r}):s.a.createElement(z,{is_virtual:l,account_type:t})),i&&s.a.createElement("span",{className:c()("acc-switcher__balance",{"acc-switcher__balance--virtual":p||l})},a&&s.a.createElement(d.a,{currency:a,amount:h.a.formatMoney(a,n,!0),should_format:!1}),!a&&s.a.createElement("span",{className:"no-currency"},s.a.createElement(u.Localize,{i18n_default_text:"No currency assigned"}))))))},k=function(e){var t=e.currency;return e.is_virtual?s.a.createElement(u.Localize,{i18n_default_text:"Demo"}):"REAL"===t.toUpperCase()?s.a.createElement(u.Localize,{i18n_default_text:"Real"}):t.toUpperCase()},z=function(e){var t=e.account_type,n=e.is_virtual;return s.a.createElement(s.a.Fragment,null,n&&s.a.createElement("div",{className:"acc-switcher__demo-text"},s.a.createElement(u.Localize,{i18n_default_text:"Demo"})),s.a.createElement("div",null,Object(L.b)(t)))},Q=function(e){var t=e.onClick,n=e.text;return s.a.createElement(C,{onClick:t,icon:s.a.createElement(N.a,{icon:"IconAdd"})},n)},R=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=O(this,(e=J(t)).call.apply(e,[this].concat(c)))).state={is_deriv_visible:!0,is_dmt5_visible:!0},n.toggleVisibility=function(e){var t,a,c;n.setState((t={},a="is_".concat(e,"_visible"),c=!n.state["is_".concat(e,"_visible")],a in t?Object.defineProperty(t,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):t[a]=c,t))},n.setWrapperRef=function(e){n.wrapper_ref=e},n.handleClickOutside=function(e){var t=!e.target.classList.contains("acc-info");n.wrapper_ref&&!n.wrapper_ref.contains(e.target)&&n.props.is_visible&&t&&n.props.toggle()},n.handleLogout=function(){n.props.toggle(),n.props.is_positions_drawer_on&&n.props.togglePositionsDrawer(),n.props.logoutClient()},n.redirectToMt5=function(e){n.props.toggleAccountsDialog(),n.props.history.push("".concat(X.a.mt5,"#").concat(e))},n.redirectToMt5Real=function(){n.redirectToMt5("real")},n.redirectToMt5Demo=function(){n.redirectToMt5("demo")},n.onClickUpgrade=function(){"svg"===n.props.can_upgrade_to?n.props.openRealAccountSignup():window.open(Object(v.urlFor)("new_account/maltainvestws",void 0,void 0,!0))},n}var n,a,c,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,e),n=t,(a=[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside),this.props.updateMt5LoginList()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside),this.props.hideDialog()}},{key:"doSwitch",value:(r=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.toggle(),this.props.account_loginid!==t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.props.switchAccount(t);case 5:case"end":return e.stop()}}),e,this)})),o=function(){var e=this,t=arguments;return new Promise((function(n,a){var c=r.apply(e,t);function o(e){U(c,n,a,o,i,"next",e)}function i(e){U(c,n,a,o,i,"throw",e)}o(void 0)}))},function(e){return o.apply(this,arguments)})},{key:"render",value:function(){var e=this;return!!this.props.is_logged_in&&s.a.createElement("div",{className:"acc-switcher__list",ref:this.setWrapperRef,style:{display:this.props.display}},s.a.createElement(f.a,{autoHeight:!0,autoHide:!0,autoHeightMax:462,renderTrackHorizontal:function(e){return s.a.createElement("div",B({},e,{className:"track-horizontal",style:{display:"none"}}))},renderThumbHorizontal:function(e){return s.a.createElement("div",B({},e,{className:"thumb-horizontal",style:{display:"none"}}))}},s.a.createElement("div",{className:"acc-switcher__list-wrapper"},s.a.createElement("div",null,s.a.createElement(V,{header:s.a.createElement(u.Localize,{i18n_default_text:"Deriv Accounts"}),is_visible:this.state.is_deriv_visible,toggleVisibility:function(){e.toggleVisibility("deriv")}},s.a.createElement("div",{className:"acc-switcher__accounts"},this.sorted_account_list.map((function(t){return s.a.createElement(Z,{key:t.loginid,balance:e.props.accounts[t.loginid].balance,currency:e.props.accounts[t.loginid].currency,currency_icon:t.icon,display_type:"currency",has_balance:"balance"in e.props.accounts[t.loginid],is_disabled:t.is_disabled,is_virtual:t.is_virtual,loginid:t.loginid,onClickAccount:t.is_disabled?void 0:e.doSwitch.bind(e,t.loginid),selected_loginid:e.props.account_loginid})}))),this.has_add_button&&s.a.createElement(Q,{onClick:this.can_upgrade?this.onClickUpgrade:this.props.openRealAccountSignup,text:s.a.createElement(u.Localize,{i18n_default_text:"Add Deriv account"})}))),this.props.is_mt5_allowed&&s.a.createElement("div",null,s.a.createElement(V,{header:s.a.createElement(u.Localize,{i18n_default_text:"DMT5 Accounts"}),is_visible:this.state.is_dmt5_visible,toggleVisibility:function(){e.toggleVisibility("dmt5")}},this.props.is_loading_mt5?s.a.createElement(x.a,{className:"acc-switcher__loader"}):s.a.createElement(s.a.Fragment,null,this.props.has_mt5_login?s.a.createElement("div",{className:"acc-switcher__accounts"},this.sorted_mt5_list.map((function(t){return s.a.createElement(Z,{key:t.login,account_type:t.group,balance:t.balance,currency:t.currency,currency_icon:Object(L.c)(t.group).replace(/^demo/,"real"),has_balance:"balance"in t,has_demo_text:/^demo/.test(t.group),loginid:t.login,onClickAccount:/^demo/.test(t.group)?e.redirectToMt5Demo:e.redirectToMt5Real})}))):s.a.createElement(Q,{onClick:this.redirectToMt5Real,text:s.a.createElement(u.Localize,{i18n_default_text:"Add DMT5 account"})})))))),s.a.createElement("div",{className:"acc-switcher__separator"}),s.a.createElement("div",{className:"acc-switcher__total"},s.a.createElement("span",null,s.a.createElement(u.Localize,{i18n_default_text:"Total assets"})),s.a.createElement(b.a,{alignment:"bottom",message:this.props.has_mt5_login?Object(u.localize)("Total assets in your Deriv and DMT5 accounts (excluding demo accounts)."):Object(u.localize)("Total assets in your Deriv accounts (excluding demo accounts).")},s.a.createElement(N.a,{icon:"IconInfoOutline",className:"acc-switcher__total-icon"})),s.a.createElement("span",{className:"acc-switcher__balance"},s.a.createElement(d.a,{currency:this.props.obj_total_balance.currency,amount:h.a.formatMoney(this.props.obj_total_balance.currency,this.total_assets,!0),should_format:!1}))),s.a.createElement("div",{className:"acc-switcher__separator"}),s.a.createElement("div",{id:"dt_logout_button",className:"acc-switcher__logout"},s.a.createElement("span",{className:"acc-switcher__logout-text",onClick:this.handleLogout},Object(u.localize)("Log out")),s.a.createElement(N.a,{icon:"IconLogout",className:"acc-switcher__logout-icon drawer__icon",onClick:this.handleLogout})))}},{key:"can_manage_currency",get:function(){return this.props.can_change_currency||!this.props.is_virtual&&!this.props.has_fiat&&this.props.can_upgrade_to}},{key:"sorted_account_list",get:function(){var e=this;return this.props.account_list.slice().sort((function(t,n){var a=e.props.accounts[t.loginid].currency,c=e.props.accounts[n.loginid].currency,r=h.a.isCryptocurrency(a),o=h.a.isCryptocurrency(c),i=!r,s=!o;return t.is_virtual||n.is_virtual?t.is_virtual?1:-1:r&&o||i&&s?a<c?-1:1:i&&o?-1:1}))}},{key:"sorted_mt5_list",get:function(){return this.props.mt5_login_list.slice().sort((function(e,t){return/demo/.test(e.group)&&!/demo/.test(t.group)?1:/demo/.test(t.group)&&!/demo/.test(e.group)?-1:/vanuatu/.test(e.group)?-1:/svg/.test(e.group)?1:-1}))}},{key:"can_upgrade",get:function(){return!!(this.props.is_upgrade_enabled&&this.props.is_virtual&&this.props.can_upgrade_to)}},{key:"has_add_button",get:function(){return this.can_upgrade||this.can_manage_currency}},{key:"total_assets",get:function(){return this.props.obj_total_balance.amount_real+this.props.obj_total_balance.amount_mt5}}])&&F(n.prototype,a),c&&F(n,c),t}(s.a.Component);R.propTypes={account_list:o.a.array,account_loginid:o.a.string,accounts:o.a.object,display:o.a.string,has_fiat:o.a.bool,has_mt5_login:o.a.bool,hideDialog:o.a.func,is_loading_mt5:o.a.bool,is_logged_in:o.a.bool,is_mt5_allowed:o.a.bool,is_positions_drawer_on:o.a.bool,is_upgrade_enabled:o.a.bool,is_virtual:o.a.bool,is_visible:o.a.bool,mt5_login_list:o.a.array,obj_total_balance:o.a.object,toggle:o.a.func,toggleAccountsDialog:o.a.func,togglePositionsDrawer:o.a.func,updateMt5LoginList:o.a.func};var G=Object(_.withRouter)(Object(A.b)((function(e){var t=e.client,n=e.ui;return{account_loginid:t.loginid,accounts:t.accounts,has_fiat:t.has_fiat,can_change_currency:t.can_change_currency,account_list:t.account_list,can_upgrade:t.can_upgrade,can_upgrade_to:t.can_upgrade_to,has_mt5_login:t.has_mt5_login,is_loading_mt5:t.is_populating_mt5_account_list,is_logged_in:t.is_logged_in,is_mt5_allowed:t.is_mt5_allowed,is_virtual:t.is_virtual,mt5_login_list:t.mt5_login_list,obj_total_balance:t.obj_total_balance,switchAccount:t.switchAccount,logoutClient:t.logout,updateMt5LoginList:t.updateMt5LoginList,is_positions_drawer_on:n.is_positions_drawer_on,openRealAccountSignup:n.openRealAccountSignup,toggleAccountsDialog:n.toggleAccountsDialog,togglePositionsDrawer:n.togglePositionsDrawer}}))(R));function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function D(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var P=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(n=D(this,(e=S(t)).call.apply(e,[this].concat(c)))).state={display:"none"},n.showDialog=function(){n.setState({display:"block"})},n.hideDialog=function(){n.setState({display:"none"})},n}var n,a,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(t,e),n=t,(a=[{key:"render",value:function(){var e,t,n,a=this.props,r=a.balance,o=a.currency,i=a.is_dialog_on,_=a.is_upgrade_enabled,p=a.is_virtual,d=a.toggleDialog;return s.a.createElement("div",{className:"acc-info__wrapper"},s.a.createElement("div",{className:"acc-info__separator"}),s.a.createElement("div",{className:c()("acc-info",{"acc-info--show":i,"acc-info--is-virtual":p}),onClick:d},s.a.createElement("span",{className:"acc-info__id"},s.a.createElement(N.a,{icon:"IconAccountsCurrency",className:"acc-info__id-icon acc-info__id-icon--".concat(p?"virtual":o),type:p?"virtual":(o||"real").toLowerCase()})),void 0!==r&&s.a.createElement("p",{className:"acc-info__balance"},s.a.createElement("span",{className:c()("symbols",(e={},t="symbols--".concat((o||"").toLowerCase()),n=o,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e))}),!o&&s.a.createElement(u.Localize,{i18n_default_text:"No currency assigned"}),o&&r),s.a.createElement(N.a,{icon:"IconArrowBold",className:"acc-info__select-arrow"})),s.a.createElement(l.CSSTransition,{in:i,timeout:200,classNames:{enter:"acc-switcher__wrapper--enter",enterDone:"acc-switcher__wrapper--enter-done",exit:"acc-switcher__wrapper--exit"},onEntered:this.showDialog,unmountOnExit:!0},s.a.createElement("div",{className:"acc-switcher__wrapper"},s.a.createElement(G,{is_visible:i,hideDialog:this.hideDialog,display:this.state.display,toggle:d,is_upgrade_enabled:_}))))}}])&&M(n.prototype,a),r&&M(n,r),t}(s.a.Component);P.propTypes={account_type:o.a.string,balance:o.a.string,currency:o.a.string,is_dialog_on:o.a.bool,is_upgrade_enabled:o.a.bool,is_virtual:o.a.bool,loginid:o.a.string,toggleDialog:o.a.func};t.default=P}}]);
//# sourceMappingURL=core.account-info.0ca5685cabaea671b0a3.js.map